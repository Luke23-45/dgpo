<?xml version='1.0' encoding='UTF-8'?>
<mujoco model="dgpo_panda_pick_place">
  <!-- This file now only defines our world and includes the robot. -->
  <!-- All robot definitions (bodies, joints, actuators) are in panda.xml -->

  <include file="../mujoco_menagerie/franka_emika_panda/panda.xml"/>
  
  <compiler meshdir="../mujoco_menagerie/franka_emika_panda/assets"/>
  <option timestep="0.002" integrator="RK4"/>
  
  <asset>
    <texture name="grid" type="2d" builtin="checker" rgb1="0.1 0.2 0.3" rgb2="0.2 0.3 0.4" width="300" height="300"/>
    <material name="grid" texture="grid" texrepeat="5 5" texuniform="true" reflectance="0.2"/>
    <material name="cube_mat" rgba="0.9 0.1 0.1 1.0"/>
    <material name="goal_mat" rgba="0.1 0.9 0.1 0.5"/>
  </asset>
  
  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>
    <geom name="floor" size="0 0 0.05" type="plane" material="grid"/>
    
    <body name="table" pos="0.5 0 0.2">
      <geom name="table_geom" type="box" size="0.4 0.4 0.2" rgba="0.8 0.8 0.8 1"/>
    </body>

    <!-- Place the robot base on top of the table -->
    <body name="panda0_link0" pos="0.5 0 0.4"/>
    
    <body name="object" pos="0.5 0 0.65">
      <joint type="free" name="object_joint" damping="0.01"/>
      <geom name="object_geom" type="box" size="0.02 0.02 0.02" material="cube_mat" mass="0.05"/>
    </body>
    
    <body name="goal" pos="0.5 0.3 0.41">
      <geom name="goal_geom" type="box" size="0.025 0.025 0.001" material="goal_mat" contype="0" conaffinity="0"/>
    </body>
    
    <camera name="fixed_camera" pos="1.2 0 1.2" xyaxes="0 -1 0 0.707 0 -0.707"/>
  </worldbody>
  
  <contact>
    <exclude body1="panda0_link0" body2="table"/>
  </contact>
</mujoco>